(function(D){var Z="ontouchstart" in window;var i="kpm_gs_get_post";var A="gridSlider";var R=400;var j=40;var B="Error Loading Content";var b="gsRefreshInfo";var k="gsRefreshButtons";var y="gsRefreshNav";var J="gsStartTimer";var e="gsLoadContent";var W="gsProcessImg";var I="gsPauseOnAction";var K="gsChangeIndex";var ab="gsChangeSlides";var a="gsInitCaption";var n="gsShowCaption";var Y="gsHideCaption";var o="gsResizeMenu";var O="gsShowPanel";var ac="gsHidePanel";var f="gridSliderInit";var S="gridSliderPlay";var P="gridSliderPause";var X="gridSliderPrevious";var p="gridSliderNext";var d="gridSliderBegin";var w="gridSliderEnd";var g=s(2.9);var u=c();var v=c(7);var z="gsMsieResize";l("transition");l("transform");l("boxSizing");l("boxShadow");l("backgroundSize");var N={linear:"linear","":"ease",swing:"ease",ease:"ease","ease-in":"ease-in","ease-out":"ease-out","ease-in-out":"ease-in-out",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInCubic:"cubic-bezier(.55,.055,.675,.19)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInBack:"cubic-bezier(.60,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175,.885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};var h;var U;switch(D.support.transition){case"WebkitTransition":h="-webkit-transition";U="webkitTransitionEnd";break;case"MozTransition":h="-moz-transition";U="transitionend";break;case"OTransition":h="-o-transition";U="oTransitionEnd";break;default:h="transition";U="transitionend";break}function V(ae,ad){this._id=0;this._bins=[];this._bins[0]=new aa(this.getNextId(),0,0,ae,ad)}V.prototype={getNextId:function(){return this._id++},fit:function(ah,ae){var ad=this._bins.length;for(var ag=0;ag<ad;ag++){var af=this._bins[ag];if(af.fit(ah,ae)){this._bins.splice(ag,1);this.removeOverlaps(af);this.splitBin(af,ah,ae);return{x:af.getX(),y:af.getY()}}}return false},removeOverlaps:function(af){var ah=af.getOverlaps();for(var ae=0;ae<ah.length;ae++){var ag=ah[ae];for(var ad=0;ad<this._bins.length;ad++){if(ag.getId()==this._bins[ad].getId()){this._bins.splice(ad,1);break}}}},splitBin:function(am,ae,al){var ak,aj,ai,ah;var ad=am.getWidth()-ae;var ag=am.getHeight();if(ad&&ag){ak=new aa(this.getNextId(),am._x+ae,am._y,ad,ag);this._bins.unshift(ak)}ad=ae;ag=am.getHeight()-al;if(ad&&ag){aj=new aa(this.getNextId(),am._x,am._y+al,ad,ag);this._bins.push(aj)}if(typeof ak!=="undefined"&&typeof aj!=="undefined"){var af=[ak,aj];ai=new aa(this.getNextId(),am._x+ae,am._y,am.getWidth()-ae,al,af);this._bins.splice(1,0,ai);ah=new aa(this.getNextId(),am._x,am._y+al,am.getWidth(),am.getHeight()-al,af);this._bins.push(ah);ak.addOverlaps([ai,ah]);aj.addOverlaps([ai,ah])}}};function aa(ai,ae,ah,af,ad,ag){this._id=ai;this._x=ae;this._y=ah;this._width=af;this._height=ad;this._overlaps=(typeof ag!=="undefined"?ag:[])}aa.prototype={fit:function(ae,ad){return(ae<=this._width&&ad<=this._height)},addOverlaps:function(ad){this._overlaps=ad},getOverlaps:function(){return this._overlaps},getId:function(){return this._id},getX:function(){return this._x},getY:function(){return this._y},getWidth:function(){return this._width},getHeight:function(){return this._height},toString:function(){return this.getId()}};function T(ad){this._parent=ad;var ae=this._parent._options.hoverBox;this._width=M(ae.width,"auto");this._height=M(ae.height,"auto");this._$hoverBox=D('<div><div class="gs-hover-content"></div><div class="gs-hover-bg"></div></div>').addClass("gs-hover-box");this._$contentBox=this._$hoverBox.find(">.gs-hover-content");this._$background=this._$hoverBox.find(">.gs-hover-bg");this._$currArrow;this._$leftArrow=D("<div></div>").addClass("gs-hover-arrow");this._$rightArrow=D("<div></div>").addClass("gs-hover-arrow");if(D.support.boxShadow){this._$leftArrow.addClass("gs-left-shadow-arrow");this._$rightArrow.addClass("gs-right-shadow-arrow")}else{this._$leftArrow.addClass("gs-left-arrow");this._$rightArrow.addClass("gs-right-arrow")}this._$hoverBox.append(this._$leftArrow).append(this._$rightArrow);D("body").append(this._$hoverBox);this._onHoverBox=false;this._showId;this._hideId;this._effect=H(ae.effect,"fade");this._$slide;if(this._parent._toggleHoverBox){this._delay=0;var af=D("<div><div></div></div>").addClass("gs-hover-close").gsAddTransitionClass("gs-all-transition").click(D.proxy(function(){this.fadeOut()},this)).mousedown(G);if(Z){af.css({opacity:1})}this._$hoverBox.append(af);D(document).bind("click"+this._parent._namespace,D.proxy(function(ag){if(!D.contains(this._$hoverBox.get(0),ag.target)){this.fadeOut()}},this))}else{this._delay=L(ae.delay,1000);this._$hoverBox.hover(D.proxy(this.hoverOn,this),D.proxy(this.hoverOff,this))}}T.prototype={hoverOn:function(){this._onHoverBox=true},hoverOff:function(){this._onHoverBox=false;this.fadeOut()},toggle:function(ad){if(ad.is(this._$slide)){this.fadeOut()}else{this.fadeIn(ad);this._$slide=ad}},getLeftArrow:function(){this._$rightArrow.css({visibility:"hidden"});this._$leftArrow.css({visibility:"visible"});this._$hoverBox.css({paddingLeft:this._$leftArrow.width()-1,paddingRight:6});this._$hoverBox.find(">.gs-hover-close").removeClass("gs-hover-close-left");return this._$leftArrow},getRightArrow:function(){this._$leftArrow.css({visibility:"hidden"});this._$rightArrow.css({visibility:"visible"});this._$hoverBox.css({paddingLeft:6,paddingRight:this._$rightArrow.width()-1});this._$hoverBox.find(">.gs-hover-close").addClass("gs-hover-close-left");return this._$rightArrow},leftAvail:function(ae,ag){var ad=ae-D(window).scrollLeft(),af=D(window).width()-(ae-D(window).scrollLeft())-ag;return(ad>af)},rightAvail:function(ae,ag){var ad=ae-D(window).scrollLeft(),af=D(window).width()-(ae-D(window).scrollLeft())-ag;return(af>ad)},setPosition:function(ak){var aq=ak.offset().top,ao=ak.offset().left,ag=ak.outerWidth()-this._parent._slideMargin,al=ak.outerHeight(),ah,af;var am,ae=Math.max(parseInt(this._$contentBox.css("minWidth"),0),50)+(this._$contentBox.outerWidth()-this._$contentBox.width());if(0===parseInt(ak.css("left"),0)){this._$currArrow=this.getLeftArrow();am=ao+ag;if(isNaN(this._width)){this._$hoverBox.css({width:"auto"});this._$hoverBox.css({width:Math.max((D(window).scrollLeft()+D(window).width())-(am+(this._$hoverBox.outerWidth()-this._$hoverBox.width())),ae)})}ah=this._$hoverBox.outerWidth();if(!isNaN(this._width)&&(am+ah)>(D(window).scrollLeft()+D(window).width())){if(this.leftAvail(ao,ag)){this._$currArrow=this.getRightArrow();am=ao-ah}}}else{this._$currArrow=this.getRightArrow();if(isNaN(this._width)){this._$hoverBox.css({width:"auto"});this._$hoverBox.css({width:Math.max(ao-D(window).scrollLeft()-(this._$hoverBox.outerWidth()-this._$hoverBox.width()),ae)})}ah=this._$hoverBox.outerWidth();am=ao-ah;if(!isNaN(this._width)&&am<D(window).scrollLeft()){if(this.rightAvail(ao,ag)){this._$currArrow=this.getLeftArrow();am=ao+ag}}}var af=this._$hoverBox.outerHeight(),ap=aq-((af-al)/2),aj=this._$currArrow.outerHeight(true);if((ap+af)>(D(window).scrollTop()+D(window).height())){ap=Math.max((D(window).scrollTop()+D(window).height()-af),(aq+aj-af))}if(ap<D(window).scrollTop()){ap=Math.min(D(window).scrollTop(),(aq+al-aj))}var an=Math.max(ap,aq),ad=Math.min(ap+af,aq+al),ai=((ad-an)-aj)/2;ai+=Math.max(aq-ap,0);this._$currArrow.css({top:ai});this._$hoverBox.css({top:ap,left:am})},expandContent:function(ae){ae=L(ae,R);var ad=parseInt(this._$currArrow.css("top"),0)-((this._$background.outerHeight()-this._$currArrow.outerHeight(true))/2)-parseInt(this._$background.css("marginTop"),0);this._$background.css({top:ad}).removeClass("gs-loading").animate({top:0,width:this._$contentBox.width(),height:this._$contentBox.height()},{duration:ae,complete:D.proxy(function(af){this._$background.hide();this._$contentBox.css({visibility:"visible"});this._$hoverBox.find(">.gs-hover-close").show()},this),queue:false})},fadeIn:function(ad){clearTimeout(this._showId);this._showId=setTimeout(D.proxy(function(){clearTimeout(this._hideId);this._$hoverBox.css({visibility:"hidden",width:"auto",height:"auto"}).show();this._$hoverBox.find(">.gs-hover-close").hide();this._$contentBox.css({visibility:"hidden"}).css({width:this._width,height:this._height});this._$background.stop(true).css({top:0}).css({width:this._width,height:this._height}).addClass("gs-loading").show();this.loadContent(ad,D.proxy(function(ae){this.setPosition(ad);this.expandContent(ae)},this));if(this._$currArrow.is(this._$rightArrow)){this._$background.css({left:"auto",right:this._$currArrow.width()-1})}else{this._$background.css({left:this._$currArrow.width()-1,right:"auto"})}if("fade"===this._effect){this._$hoverBox.stop(true,true).show().css({opacity:0,visibility:"visible"}).animate({opacity:1},R)}else{this._$hoverBox.show().css({visibility:"visible"})}},this),this._delay)},fadeOut:function(){clearTimeout(this._showId);clearTimeout(this._hideId);this._hideId=setTimeout(D.proxy(function(){if(!this._onHoverBox){if("fade"===this._effect){this._$hoverBox.stop(true,true).animate({opacity:0},R,function(){D(this).hide()})}else{this._$hoverBox.hide()}}},this),100);this._$slide=null},hide:function(){clearTimeout(this._showId);clearTimeout(this._hideId);this._$hoverBox.hide();this._$slide=null},loadContent:function(ai,am){var af=ai.find(".gs-hover");var ak=af.data("content-type");if(!D.isFunction(am)){am=D.noop}this._$contentBox.css({overflow:"auto"}).empty();if(typeof ak==="undefined"||"static"===ak){this._$contentBox.html(af.html());am(0);return}if("post"===ak){var ao=D("<div></div>");this._$contentBox.append(ao);this.setPosition(ai);D.post(ajaxurl,D.param({action:i,post_id:af.data("post-id")}),D.proxy(function(ap){if(D.contains(this._$hoverBox.get(0),ao[0])){ao.html(ap);am()}},this));return}var ag=af.data("src");if("image"===ak){var ae=D("<img/>");this._$contentBox.append(ae);this.setPosition(ai);ae.one("load",D.proxy(function(ap){if(D.contains(this._$hoverBox.get(0),ap.currentTarget)){am()}},this)).attr("src",ag);if(ae[0].complete||"complete"===ae[0].readyState){ae.trigger("load")}}else{if("inline"===ak){var ah=D(ag);if(ah.length){this._$contentBox.html(ah.html())}am(0)}else{if("flash"===ak){this._$contentBox.html(m(ag));am(0)}else{if("ajax"===ak){var aj=ag.indexOf("?"),al="",ad=H(af.data("method"),"GET");if(-1<aj){al=ag.substring(aj+1);ag=ag.substring(0,aj)}var ao=D("<div></div>");this._$contentBox.append(ao);this.setPosition(ai);D.ajax({url:ag,type:ad,data:al,success:D.proxy(function(ap){if(D.contains(this._$hoverBox.get(0),ao[0])){ao.html(ap);am()}},this)})}else{var an=D('<iframe frameborder="0" hspace="0" scrolling="auto" width="100%" height="100%"></iframe>').hide();this._$contentBox.css({overflow:"hidden"}).append(an);this.setPosition(ai);an.load(D.proxy(function(ap){if(D.contains(this._$hoverBox.get(0),ap.currentTarget)){D(ap.currentTarget).show();am()}},this)).attr("src",ag)}}}}}};function t(af,ae){this._options=ae;this._responsive=ae.responsive;var ad=!(!D.support.boxSizing&&this._responsive);this._numCols=M(ae.numCols,4);this._numRows=M(ae.numRows,2);this._minRows=M(ae.minRows,0);if(this._minRows){this._minRows=Math.max(this._minRows,this._numRows)}this._minSlideWidth=M(ae.minSlideWidth,200);this._slideWidth=M(ae.slideWidth,300);this._slideHeight=M(ae.slideHeight,200);this._slideMargin=(ad?L(ae.slideMargin,0):0);this._borderWidth=(ad?L(ae.slideBorder,0):0);this._captionWidth=L(ae.captionWidth,"auto");this._captionHeight=L(ae.captionHeight,"auto");this._padding=L(this._options.padding,0);this._rotate=ae.autoPlay;this._delay=M(ae.delay,5000);this._speed=M(ae.speed,500);this._tabIndex=L(ae.tabIndex,0);this._cssTransition=D.support.transition&&!g?ae.cssTransition:false;this._cssTransform=this._cssTransition&&D.support.transform;this._toggleHoverBox=(Z?true:ae.hoverBox.toggle);this._$slider=D(af);this._$lists;this._$currList;this._$slides;this._$container;this._$mainPanel;this._$slidePanel;this._$cpanel;this._$navButtons;this._$timer;this._$panelTitle;this._$panelContent;this._namespace="."+((typeof this._$slider.attr("id")!=="undefined")?("grid-slider-"+this._$slider.attr("id")):"grid-slider");this._timerId=null;this._resumeId=null;this._currIndex=0;this._colWidth;this._rowHeight;this._binWidth;this._binHeight;this._borderSize=(2*this._borderWidth);this._bgColor=this._$slider.css("backgroundColor");this._orgRows=this._numRows;this._orgCols=this._numCols;this._outerSize=this._borderSize+this._slideMargin;this._backgroundSize=D.support.backgroundSize;this._winWidth;this._startX;this._startY;this._swipeMove;this._swipeStart;this._hoverBox=new T(this);this.init()}t.prototype={init:function(){if(!this._cssTransition){D.fn.gsTransition=D.fn.animate;D.fn.gsStopTransition=D.fn.stop}this._$lists=this._$slider.find(">ul").addClass("gs-list").data({index:0,init:false});this._$slides=this._$lists.find(">li").addClass("gs-slide");if(g){this._$slides.css("backface-visibility","visible")}this._$lists.wrapAll(D('<div class="gs-container"><div class="gs-main-panel"><div class="gs-slide-panel"></div></div></div>'));this._$container=this._$slider.find(">.gs-container");this._$mainPanel=this._$container.find(">.gs-main-panel");this._$slidePanel=this._$mainPanel.find(">.gs-slide-panel");this._tabIndex=Math.min(this._tabIndex,this._$lists.length-1);this.initLists();this.initControl();this.initMenu();this.initContentPanel();this.initContainer();this._$slider.bind(J,D.proxy(this.startTimer,this));this.selectTab(this._tabIndex);if(this._responsive){this.resize(true);D(window).bind("resize"+this._namespace,D.proxy(function(){this.resize(false)},this))}if(!Z&&this._options.pauseOnHover){this._$slider.hover(D.proxy(this.pause,this),D.proxy(this.play,this))}if(this._options.pauseOnInteraction){this._$slider.bind(I,D.proxy(this.pause,this))}},initLoadImgs:function(){var ae=0,ad=this._$currList.children();var af=setInterval(function(){if(ae<ad.length){ad.eq(ae).find("li.gs-slide").each(function(){var ag=D(this);if(ag.find("img.gs-slide-content").length||"image"===ag.data("content-type")){ag.trigger(e)}})}else{clearInterval(af)}ae++},1000)},resize:function(ak){if(ak||D(window).width()!==this._winWidth){this._winWidth=D(window).width();this.suspendTimer();var al=this._$currList.find(">li.gs-bin-item"),ad=al.width(),ag=Math.min(Math.max(Math.floor(ad/(this._minSlideWidth)),1),this._orgCols),am=Math.ceil((this._orgCols*this._orgRows)/ag);if(this._minRows&&am>this._minRows){am=this._minRows;ag=Math.ceil((this._orgCols*this._orgRows)/am)}if(!ak){ak=(ag!==this._numCols)}this._numCols=ag;this._numRows=am;var ai=Math.round(ad/this._numCols),af=ai-this._outerSize;if(this._$slider.data("horizontal-captions")){af-=this._captionWidth}var aj=Math.round((af/this._slideWidth)*this._slideHeight),ae=aj+this._outerSize;if(this._$slider.data("vertical-captions")){ae+=this._captionHeight}var ah=this._numRows*ae;this._$slidePanel.height(ah+this._slideMargin);if(ak){al.each(D.proxy(function(ap,ao){var ay=D(ao).find(">ul").children(),at=new V(this._numCols,this._numRows);var ax=ay.length;for(var aw=0;aw<ax;aw++){var av=ay.eq(aw),aq=av.data("colspan"),au=av.data("rowspan");var aA=at.fit(aq,au);if(av.data("resized")){this.resizeSlide(av,aq,au,false)}if(false===aA){aq=au=1;aA=at.fit(aq,au);if(!this._backgroundSize){this.resizeSlide(av,aq,au,true)}}var az=((aA.y*ae)/ah*100)+"%",ar=((aA.x*ai)/ad*100)+"%",an=(aq/this._numCols*100)+"%",aB=(au/this._numRows*100)+"%";av.css({top:az,left:ar});if(D.support.boxSizing){av.outerWidth(an).outerHeight(aB)}else{av.css({width:an,height:aB})}}},this))}this._$slider.trigger(o).trigger(z)}},resizeSlide:function(ah,ai,ag,ae){var af=(ai*this._colWidth)-this._outerSize,ad=(ag*this._rowHeight)-this._outerSize;if(ah.find(">.gs-caption-wrapper").length){if(ah.data("horizontal-caption")){af-=this._captionWidth}else{if(ah.data("vertical-caption")){ad-=this._captionHeight}}}ah.data({slideWidth:af,slideHeight:ad,resized:ae});this.resizeImage(ah,ah.find("img.gs-slide-content"))},initContainer:function(){if(this._slideMargin){var ae=["top","bottom","left","right"];for(var af=0;af<ae.length;af++){var ak=ae[af];var al=D("<div></div>").addClass("gs-"+ak+"-blinder").css({backgroundColor:this._bgColor});if("top"===ak||"bottom"===ak){al.css({height:this._slideMargin})}else{al.css({width:this._slideMargin})}this._$slidePanel.append(al)}}var ag=this._$mainPanel.find(">.gs-prev"),ai=this._$mainPanel.find(">.gs-next"),ah={borderTopWidth:this._padding,borderBottomWidth:this._padding,borderColor:this._bgColor};if(0===ag.length){ah.borderLeftWidth=this._padding}if(0===ai.length){ah.borderRightWidth=this._padding}this._$mainPanel.css(ah);if(!this._responsive){this._$slidePanel.width(this._binWidth+this._slideMargin).height(this._binHeight+this._slideMargin);this._$mainPanel.width(this._$slidePanel.width());this._$container.height(this._$mainPanel.outerHeight());this._$slider.width(this._$mainPanel.outerWidth(true))}if(v){var am=this._$slider.find(".gs-panel"),ad=am.find(">.gs-panel-container"),aj=am.find(">.gs-panel-bar");this._$slider.bind(z,D.proxy(function(){var an=this._$mainPanel.height();ag.height(an);ai.height(an);var ao=this._$container.outerHeight();am.height(ao);if(!this._options.panelBarOnHover){ao-=aj.height()}ad.height(ao)},this)).trigger(z)}},getCaptionWidth:function(){var ad=this._$slides.filter(function(){return D(this).data("horizontal-caption")}).find(">.gs-caption");ad.outerHeight(this._slideHeight+this._borderSize);var ae=Math.min(Math.max.apply(null,ad.map(function(){return D(this).outerWidth()}).get()),this._slideWidth);ad.outerWidth(ae);ae=ad.outerWidth();ad.outerWidth("auto").outerHeight("100%");return ae},getCaptionHeight:function(){var ae=this._$slides.filter(function(){return D(this).data("vertical-caption")}).find(">.gs-caption");ae.outerWidth(this._slideWidth+this._borderSize).outerHeight(Math.max.apply(null,ae.map(function(){return D(this).outerHeight()}).get()));var ad=ae.outerHeight();ae.outerWidth("100%").outerHeight("auto");return ad},initCaptions:function(){this._$slides.find(">:not(a,img,[class]):first").addClass("gs-caption").toggleClass("gs-no-outer",!D.support.boxSizing);if("outside"===this._options.captionPosition){var ad=false;var ae=false;this._$slides.each(D.proxy(function(ai,af){var ag=D(af);var ah=H(ag.data("caption-align"),this._options.captionAlign);ag.data({"caption-align":ah});if("top"===ah||"bottom"===ah){ag.data("vertical-caption",true);ae=true}else{ag.data("vertical-caption",false)}if("left"===ah||"right"===ah){ag.data("horizontal-caption",true);ad=true}else{ag.data("horizontal-caption",false)}},this));if(ae){if(isNaN(this._captionHeight)){this._captionHeight=this.getCaptionHeight()}this._rowHeight+=this._captionHeight}if(ad){if(isNaN(this._captionWidth)){this._captionWidth=this.getCaptionWidth()}this._colWidth+=this._captionWidth}this._$slider.data({"horizontal-captions":ad,"vertical-captions":ae});this._$slides.addClass("gs-outside").one(a,D.proxy(this.initExtCaption,this))}else{this._$slides.addClass("gs-inside").one(a,D.proxy(this.initCaption,this)).find(">.gs-caption").gsAddTransitionClass("gs-img-transition");if(g){this._$slides.find(">.gs-caption").css("backface-visibility","visible")}}},initLists:function(){this._colWidth=this._slideWidth+this._outerSize;this._rowHeight=this._slideHeight+this._outerSize;this.initCaptions();this._binWidth=this._numCols*this._colWidth;this._binHeight=this._numRows*this._rowHeight;this._$lists.each(D.proxy(function(ae,ad){this.initList(D(ad))},this))},initList:function(ae){var ah=H(ae.data("shuffle"),this._options.shuffle);if(ah){this.shuffleItems(ae)}var aj=ae.find(">li");var ak=new V(this._numCols,this._numRows);var ai=this.addBin(ae);aj.css({paddingRight:this._slideMargin,paddingBottom:this._slideMargin}).each(D.proxy(function(aq,al){var ao=D(al);this.initSlide(ao);var ap=ao.data("colspan"),an=ao.data("rowspan");var am=ak.fit(ap,an);if(false===am){ai=this.addBin(ae);ak=new V(this._numCols,this._numRows);am=ak.fit(ap,an)}ao.css({top:am.y*this._rowHeight,left:am.x*this._colWidth});ai.append(ao);this.setSlideSize(ao);this.processSlide(ao)},this));var ad=ae.children();var ag=0;ad.each(function(){var al=D(this).find(">ul").children().length;D(this).data({index:ag,length:al});ag+=al});ae.data({numIndex:ad.length,numItems:aj.length,effect:H(ae.data("effect"),this._options.effect),speed:M(ae.data("speed"),this._speed),easing:H(ae.data("easing"),this._options.easing),delay:M(ae.data("delay"),this._delay)});this.setListSize(ae);var af;switch(ae.data("effect")){case"horizontalSlide":af=this.scrollHorizontal;break;case"verticalSlide":af=this.scrollVertical;break;case"fade":af=this.fadeSlides;break;default:af=this.showSlides;break}ae.bind(ab,D.proxy(af,this))},setListSize:function(ae){var ad=ae.children(),ah=ad.length,ag=ae.data("effect");if(this._responsive){var af=(ah*100)+"%",ai=(1/ah*100)+"%";if("verticalSlide"===ag){ae.css({width:"100%",height:af});ad.outerHeight(ai)}else{ae.css({width:af,height:"100%"});ad.outerWidth(ai)}}else{ad.width(this._binWidth).height(this._binHeight);if("verticalSlide"===ag){ae.css({width:ad.outerWidth(),height:(ah*ad.outerHeight())})}else{ae.css({width:(ah*ad.outerWidth()),height:ad.outerHeight()})}}},initSlide:function(ah){ah.wrapInner(D("<div></div>").addClass("gs-wrapper"));var aj=ah.find(">.gs-wrapper").css({borderWidth:this._borderWidth});ah.data({"image-position":H(ah.data("image-position"),this._options.imagePosition),"hover-effect":H(ah.data("hover-effect"),this._options.hoverEffect),"caption-align":H(ah.data("caption-align"),this._options.captionAlign),"caption-effect":H(ah.data("caption-effect"),this._options.captionEffect),"caption-button":H(ah.data("caption-button"),this._options.captionButton),colspan:Math.min(M(ah.data("colspan"),1),this._numCols),rowspan:Math.min(M(ah.data("rowspan"),1),this._numRows)});var af=aj.find(">.gs-button-tray");if(af.length){if(af.children().length){af.children().gsAddTransitionClass("gs-all-transition");af.show()}}else{af=D("<div></div>").addClass("gs-button-tray");aj.append(af)}af.on("mousedown",".gs-overlay-button",G).on("click",".gs-overlay-button:not(.gs-hoverbox-button)",D.proxy(this.hideHoverBox,this)).addClass("gs-opacity-off").gsAddTransitionClass("gs-opacity-transition");var ak=aj.find(">a:first");if(ak.length){ak.data({title:ak.attr("title")}).removeAttr("title");if(ak.hasClass("lb-link")){var ad=ak.clone(true).html("<div></div>").addClass("gs-overlay-button gs-zoom-button").gsAddTransitionClass("gs-all-transition");af.append(ad).show()}ak.click(D.proxy(this.hideHoverBox,this))}if(this._options.pauseOnInteraction){aj.click(D.proxy(this.pause,this))}ah.trigger(a);if(aj.find(">.gs-hover").length){if(this._toggleHoverBox){var ai=D("<a><div></div></a>").addClass("gs-overlay-button gs-hoverbox-button").gsAddTransitionClass("gs-all-transition").click(D.proxy(function(am){am.stopPropagation();this._hoverBox.toggle(ah)},this));af.append(ai).show()}else{aj.hover(D.proxy(function(am){this._hoverBox.fadeIn(ah)},this),D.proxy(function(am){this._hoverBox.fadeOut()},this))}}var ag=aj.find(">.gs-content");if(ag.length){var ae=D("<a><div></div></a>").addClass("gs-overlay-button gs-panel-button").gsAddTransitionClass("gs-all-transition").click(D.proxy(this.openPanel,this));if(q(ag.data("content-type"))){var al="static";if(!q(ag.data("src"))){al=Q(ag.data("src"))}else{if(0<ag.data("post-id")){al="post"}}ag.data({contentType:al})}af.append(ae).show()}},setSlideSize:function(ai){var ag=ai.find(">.gs-wrapper"),ae=ai.find(">.gs-caption-wrapper"),ak=ai.data("colspan"),ah=ai.data("rowspan"),aj=(ak*this._colWidth)-this._outerSize,af=(ah*this._rowHeight)-this._outerSize,ad=ai.data("horizontal-caption");if(ae.length){if(ad){aj-=this._captionWidth}else{af-=this._captionHeight}}ai.data({slideWidth:aj,slideHeight:af});if(this._responsive){ai.addClass("gs-border-box").css({top:(parseInt(ai.css("top"),0)/this._binHeight*100)+"%",left:(parseInt(ai.css("left"),0)/this._binWidth*100)+"%"}).outerWidth((ak/this._numCols*100)+"%").outerHeight((ah/this._numRows*100)+"%")}else{ag.width(aj).height(af);ai.width(ag.outerWidth()).height(ag.outerHeight())}},processImage:function(af){var ae=D(af.currentTarget),ad=ae.find("img.gs-slide-content");ad.one("load",D.proxy(this.processImg,this)).attr("src",ad.attr("src"));if(ad[0].complete||"complete"===ad[0].readyState){ad.trigger("load")}},processSlide:function(ag){var af=ag.find(">.gs-wrapper");if(!q(ag.data("src"))||ag.data("post-id")){var ah=ag.data("content-type");if(q(ah)){ag.data("content-type",Q(ag.data("src")))}ag.one(e,D.proxy(this.processContent,this))}else{var ad=af.find(">a:first"),ae;if(ad.length){ae=ad.find(">:first")}else{ae=af.find(">:first")}if(ae.length){ae.addClass("gs-slide-content");if(ae.is("img")){if(this._backgroundSize){ae.before(D("<div></div>").addClass("gs-bg-img gs-slide-content").gsAddTransitionClass("gs-opacity-transition"))}ag.one(e,D.proxy(this.processImage,this))}ae.gsAddTransitionClass("gs-opacity-transition")}}},addLinkButton:function(ad){ad=ad.not("[class]");if(ad.length){var ae=ad.clone(true).html("<div></div>").addClass("gs-overlay-button gs-link-button").gsAddTransitionClass("gs-all-transition");ad.closest(".gs-wrapper").find(">.gs-button-tray").prepend(ae).show();ad.replaceWith(function(){return D(this).children()})}},setHoverEffect:function(af){if(!Z&&D.support.transition&&D.support.transform&&!g){var ae=af.data("hover-effect");var ad=af.find(".gs-slide-content");if("zoomIn"===ae){ad.addClass("gs-zoom-in")}else{if("zoomOut"===ae){ad.addClass("gs-zoom-out")}else{return}}af.one("mouseenter",function(){ad.gsAddTransitionClass("gs-img-transition")})}},addBin:function(ad){var ae=D('<li><ul class="gs-bin-list"></ul></li>');ae.addClass("gs-bin-item").css({borderTopWidth:this._slideMargin,borderLeftWidth:this._slideMargin,borderColor:this._bgColor});ad.append(ae);return ae.find(">ul")},initExtCaption:function(ag){var af=D(ag.currentTarget),ae=af.find(">.gs-wrapper"),ah=ae.find(">.gs-caption");if(ah.length){var ad=D("<div></div>").addClass("gs-caption-wrapper").append(ah);af.append(ad);if(af.data("horizontal-caption")){ad.css({top:0,width:this._captionWidth,height:"100%",paddingBottom:this._slideMargin})}else{ad.css({left:0,width:"100%",height:this._captionHeight,paddingRight:this._slideMargin})}ah.css({width:"100%",height:"100%"});switch(af.data("caption-align")){case"left":af.css({paddingLeft:"+="+this._captionWidth});ad.css({left:0});break;case"right":af.css({paddingRight:"+="+this._captionWidth});ad.css({right:this._slideMargin});break;case"top":af.css({paddingTop:"+="+this._captionHeight});ad.css({top:0});break;default:af.css({paddingBottom:"+="+this._captionHeight});ad.css({bottom:this._slideMargin});break}}},initCaption:function(al){var ah=D(al.currentTarget),aj=ah.find(">.gs-wrapper"),ag=aj.find(">.gs-caption");if(ag.length){var ak=ah.data("caption-align"),ae=aj.find(">.gs-button-tray");ag.data({width:H(ag.data("width"),this._captionWidth),height:H(ag.data("height"),this._captionHeight)});if("left"===ak||"right"===ak){ag.css({top:0}).outerHeight("100%");if("left"===ak){ag.css({left:0})}else{ag.css({right:0});ae.css({left:0,right:"auto"})}var ai=ag.data("width");if(!isNaN(ai)){if(this._responsive){ag.outerWidth((ai/this._slideWidth*100)+"%")}else{ag.outerWidth(ai)}}}else{ag.css({left:0}).outerWidth("100%");if("top"===ak){ag.css({top:0});ae.css({bottom:0,top:"auto"})}else{ag.css({bottom:0})}var af=ag.data("height");if(!isNaN(af)){if(this._responsive){ag.outerHeight((af/this._slideHeight*100)+"%")}else{ag.outerHeight(af)}}}if(ah.data("caption-button")){var ad=D("<a><div></div></a>").addClass("gs-overlay-button gs-caption-button").gsAddTransitionClass("gs-all-transition").click(D.proxy(this.toggleCaption,this));ae.append(ad).show();this.bindCaptionEvents(ah,n,Y)}else{this.bindCaptionEvents(ah,"mouseenter","mouseleave")}}},bindCaptionEvents:function(ai,ad,ah){var ag=ai.find(">.gs-wrapper"),ak=ag.find(">.gs-caption");switch(ai.data("caption-effect")){case"slide":if(this._cssTransform){var ae;switch(ai.data("caption-align")){case"left":ae="gs-slide-right";ak.css({left:"auto",right:"100%"});break;case"right":ae="gs-slide-left";ak.css({left:"100%",right:"auto"});break;case"top":ae="gs-slide-down";ak.css({top:"auto",bottom:"100%"});break;default:ae="gs-slide-up";ak.css({top:"100%",bottom:"auto"});break}ag.bind(ad,function(){ak.addClass(ae)}).bind(ah,function(){ak.removeClass(ae)})}else{var aj=ai.data("caption-align");ak.css(aj,"-100%");ag.bind(ad,{position:aj},this.slideInCaption).bind(ah,{position:aj},this.slideOutCaption)}break;case"fade":if(D.support.transition){ak.addClass("gs-opacity-off");ag.bind(ad,function(){ak.removeClass("gs-opacity-off")}).bind(ah,function(){ak.addClass("gs-opacity-off")})}else{ak.css({opacity:0});ag.bind(ad,this.fadeInCaption).bind(ah,this.fadeOutCaption)}break;case"normal":ak.hide();ag.bind(ad,function(){ak.show()}).bind(ah,function(){ak.hide()});break;default:var af=ag.find(".gs-caption-button");if(af.length){af.addClass("gs-caption-off");ag.bind(ad,function(){ak.show()}).bind(ah,function(){ak.hide()})}break}},initMenu:function(){if(1<this._$lists.length){var ae='<div class="gs-menu">								<ul class="gs-menu-list">';this._$lists.each(function(ak,aj){ae+='<li class="gs-menu-item">'+H(D(aj).data("title"),ak+1)+"</li>"});ae+="</ul>							</div>";this._$mainPanel.prepend(ae);var af=this._$mainPanel.find(">.gs-menu"),ad=af.find(">ul"),ai=ad.children(),ag=0;this.setPanelSize(af);ai.gsAddTransitionClass("gs-color-transition").click(D.proxy(function(ak){var aj=D(ak.currentTarget);if(!aj.hasClass("gs-menu-active")){this.selectTab(aj.index())}},this)).each(function(){D(this).css({width:(D(this).width()+2)});ag+=D(this).outerWidth()});ad.width(ag);var ah=("easeOutCirc" in D.easing)?"easeOutCirc":"linear";af.mousemove(function(al){var aj=af.width()-ad.width();if(0>aj){var ak=(al.pageX-af.offset().left)/af.width();ad.animate({left:Math.round(aj*ak)},{duration:R,easing:ah,queue:false})}});if(this._responsive){this._$slider.bind(o,function(){var aj=Math.min(0,af.width()-ad.width());ad.css({left:Math.max(aj,ad.position().left)})})}}else{this.initHeader()}},initHeader:function(){var ae=this._$lists.eq(0).data("title");if(!q(ae)){var ad=D("<div></div>").addClass("gs-header");this.setPanelSize(ad);this._$mainPanel.prepend(ad);ad.text(ae)}},initControl:function(){this._$cpanel=D("<div></div>").addClass("gs-control");this.setPanelSize(this._$cpanel);this._$mainPanel.append(this._$cpanel);if(this._options.playButton||this._options.pageInfo||"small"===this._options.navButtons){var ag=D("<div></div>").addClass("gs-sub-control");this._$cpanel.append(ag);if(this._options.playButton){var af=D("<div><div></div></div>").addClass("gs-small-button gs-play-button").toggleClass("gs-pause",!this._rotate).click(D.proxy(this.togglePlay,this));af.find(">div").gsAddTransitionClass("gs-opacity-transition");ag.append(af)}if(this._options.pageInfo){var ae=D("<div></div>").addClass("gs-page-info");ag.append(ae);this._$slider.bind(b,D.proxy(function(ak){var ai=this._$currList.children().eq(this._currIndex),aj=ai.data("index"),al=aj+1,ah=aj+ai.data("length");ae.text((al!=ah?(al+"-"+ah):al)+" of "+this._$currList.data("numItems"))},this))}}this.initNav();this.initNavButtons();this.initTimer();var ad=Math.max(this._$cpanel.find(">.gs-sub-control").height(),this._$cpanel.find(">ul").height());if(this._options.timer){ad+=this._$cpanel.find(">.gs-timer-box").height()}this._$cpanel.height(ad)},initNav:function(){if(false!==this._options.control&&"none"!==this._options.control){this._$navList=D("<ul></ul>");if("number"===this._options.control){this._$navList.addClass("gs-nav-number")}else{this._$navList.addClass("gs-nav")}this._$cpanel.append(this._$navList);this._$navList.on((!Z&&this._options.selectOnHover?"mouseenter":"click"),">li",D.proxy(this.selectNav,this)).on("mousedown",">li",G);this._$slider.bind(K,D.proxy(this.initNavItems,this)).bind(y,D.proxy(function(){this._$navList.find(">li").removeClass("gs-active").eq(this._currIndex).addClass("gs-active")},this))}},selectNav:function(ae){this._$slider.trigger(I);var ad=D(ae.currentTarget);if(!ad.hasClass("gs-active")){this._currIndex=D(ae.currentTarget).index();this.updateSlideList(true)}},initNavItems:function(){var ag=this._$currList.data("numIndex");this._$navList.empty();if(1<ag){this._$navList.show();var ah=("number"===this._options.control);for(var af=0;af<ag;af++){var ae=D("<li></li>");if(ah){ae.text(af+1).gsAddTransitionClass("gs-color-transition")}else{ae.gsAddTransitionClass("gs-bgcolor-transition")}this._$navList.append(ae)}var ad=this._$navList.children();this._$navList.css({width:(ag*ad.outerWidth(true))})}else{this._$navList.hide()}},initTimer:function(){this._$timer=D("<div></div>").addClass("gs-timer").data("pct",1);var ad=D("<div></div>").addClass("gs-timer-box").append(this._$timer);this._$cpanel.prepend(ad);if(!this._options.timer){ad.hide()}},initNavButtons:function(){if(false!==this._options.navButtons&&"none"!==this._options.navButtons){var ad=D("<div><div></div></div>");var ag=D("<div><div></div></div>");this._$navButtons=ag.add(ad);this._$navButtons.find(">div").gsAddTransitionClass("gs-opacity-transition");if("hover"===this._options.navButtons||"mouseover"===this._options.navButtons){ad.addClass("gs-hover-prev");ag.addClass("gs-hover-next");this._$slidePanel.append(this._$navButtons);var af=("+="+(this._slideMargin+this._borderWidth));ad.css({marginLeft:af});ag.css({marginRight:af});if(Z){this._$navButtons.css({opacity:1})}else{if(D.support.transition){this._$navButtons.addClass("gs-css-hover")}else{this._$slidePanel.hover(D.proxy(function(){this._$navButtons.animate({opacity:1},{duration:R,queue:false})},this),D.proxy(function(){this._$navButtons.animate({opacity:0},{duration:R,queue:false})},this))}}this._$navButtons.gsAddTransitionClass("gs-all-transition")}else{if("small"===this._options.navButtons){var ae=this._$cpanel.find(".gs-play-button");this._$navButtons.addClass("gs-small-button");ad.addClass("gs-small-prev");ag.addClass("gs-small-next");if(ae.length){ae.before(ag).after(ad)}else{this._$cpanel.find(">.gs-sub-control").prepend(this._$navButtons)}}else{ad.addClass("gs-prev");ag.addClass("gs-next");this._$mainPanel.append(this._$navButtons).css({overflow:"visible",borderLeftWidth:ad.outerWidth(),borderRightWidth:ag.outerWidth()});ad.css({left:-ad.outerWidth()});ag.css({right:-ag.outerWidth()})}}ad.click(D.proxy(this.prevSlides,this)).mousedown(G);ag.click(D.proxy(this.nextSlides,this)).mousedown(G);if(!this._options.continuous){this._$slider.bind(k,D.proxy(function(){ad.toggleClass("gs-disabled",0===this._currIndex);ag.toggleClass("gs-disabled",(this._$currList.data("numIndex")-1)==this._currIndex)},this))}}},hideHoverBox:function(){this._hoverBox.hide()},togglePlay:function(){if(this._rotate){this.pause()}else{this.play()}},play:function(){if(!this._rotate){this._$cpanel.find(".gs-play-button").removeClass("gs-pause");this._rotate=true;this._$slider.trigger(J).trigger(S);this._options.onPlay.call(this)}},pause:function(){if(this._rotate){this._$cpanel.find(".gs-play-button").addClass("gs-pause");this._rotate=false;this.pauseTimer();this._$slider.trigger(P);this._options.onPause.call(this)}},changeControls:function(){this._$slidePanel.unbind("touchstart mousewheel DOMMouseScroll");D(document).unbind("keyup"+this._namespace);this._$slider.trigger(K);if(1<this._$currList.data("numIndex")){this._$cpanel.find(".gs-play-button").show().find(">.gs-timer-box").css({visibility:"visible"});if(typeof this._$navButtons!=="undefined"){this._$navButtons.show()}if(Z){if(this._options.swipe){this._$slidePanel.bind("touchstart",D.proxy(this.touchStart,this))}}else{if(this._options.mousewheel){this._$slidePanel.bind("mousewheel DOMMouseScroll",D.proxy(this.mouseScroll,this))}}if(this._options.keyboard){D(document).bind("keyup"+this._namespace,D.proxy(this.keyControl,this))}}else{this._$cpanel.find(".gs-play-button").hide().find(">.gs-timer-box").css({visibility:"hidden"});if(typeof this._$navButtons!=="undefined"){this._$navButtons.hide()}if(this._options.keyboard){D(document).bind("keyup"+this._namespace,D.proxy(function(ad){if(27===ad.keyCode){this._$slider.trigger(ac)}},this))}}},initContentPanel:function(){var ai=D('<div class="gs-panel">										<div class="gs-panel-container">											<div class="gs-inner-content"></div>										</div>										<div class="gs-panel-bar">											<div class="gs-panel-title"></div>											<div class="gs-close-button"><div></div></div>										</div>								   </div>');var ah=this._options.panelEffect;if(!D.support.boxSizing&&this._responsive){if("slideLeft"===ah){ah="coverLeft"}else{if("slideRight"===ah){ah="coverRight"}}}if(C(ah,"slide")){this._$mainPanel.wrap('<div class="gs-panel-wrapper"></div>');var ad=this._$mainPanel.parent();var ag,af,ae;if(g){ad.css("backface-visibility","visible")}switch(ah){case"slideRight":ad.addClass("gs-horizontal-wrapper").css({left:"-100%"}).prepend(ai);ag="gs-panel-right";af={left:0};ae={left:"-100%"};break;case"slideLeft":ad.addClass("gs-horizontal-wrapper").append(ai);ag="gs-panel-left";af={left:"-100%"};ae={left:0};break;case"slideDown":ad.addClass("gs-vertical-wrapper").css({top:"-100%"}).prepend(ai);ag="gs-panel-down";af={top:0};ae={top:"-100%"};break;default:ad.addClass("gs-vertical-wrapper").append(ai);ag="gs-panel-up";af={top:"-100%"};ae={top:0};break}if(this._cssTransform){ad.gsAddTransitionClass("gs-transform-transition");this._$slider.bind(O,function(){ad.addClass(ag)}).bind(ac,function(){ad.removeClass(ag)})}else{this._$slider.bind(O,D.proxy(function(){ad.animate(af,{duration:R,easing:this._options.easing,queue:false})},this)).bind(ac,D.proxy(function(){ad.animate(ae,{duration:R,easing:this._options.easing,queue:false})},this))}}else{this._$container.append(ai.addClass("gs-overlay-panel"));if(g){ai.css("backface-visibility","visible")}if(C(ah,"cover")){var ag,af,ae;switch(ah){case"coverRight":ai.css({left:"-100%"});ag="gs-slide-right";af={left:0};ae={left:"-100%"};break;case"coverLeft":ai.css({left:"100%"});ag="gs-slide-left";af={left:0};ae={left:"100%"};break;case"coverDown":ai.css({top:"-100%"});ag="gs-slide-down";af={top:0};ae={top:"-100%"};break;default:ai.css({top:"100%"});ag="gs-slide-up";af={top:0};ae={top:"100%"};break}if(this._cssTransform){ai.gsAddTransitionClass("gs-transform-transition");this._$slider.bind(O,function(){ai.addClass(ag)}).bind(ac,function(){ai.removeClass(ag)})}else{this._$slider.bind(O,D.proxy(function(){ai.animate(af,{duration:R,easing:this._options.easing,queue:false})},this)).bind(ac,D.proxy(function(){ai.animate(ae,{duration:R,easing:this._options.easing,queue:false})},this))}}else{ai.hide();if("fade"===ah){this._$slider.bind(O,D.proxy(function(){ai.stop(true,true).fadeIn(R,this._options.easing)},this)).bind(ac,D.proxy(function(){ai.stop(true).fadeOut(R,this._options.easing)},this))}else{this._$slider.bind(O,function(){ai.show()}).bind(ac,function(){ai.hide()})}}}var ak=ai.find(">.gs-panel-bar").dblclick(D.proxy(this.closePanel,this)).mousedown(G),aj=ai.find(">.gs-panel-container");this._$panelTitle=ak.find(">.gs-panel-title");this._$panelContent=aj.find(">.gs-inner-content");ak.find(">.gs-close-button").gsAddTransitionClass("gs-bgcolor-transition").click(D.proxy(this.closePanel,this)).mousedown(G);aj.toggleClass("gs-no-outer",!D.support.boxSizing);if(!Z&&this._options.panelBarOnHover){ai.addClass("gs-full-panel").hover(function(){ak.animate({opacity:1},{duration:R,queue:false})},function(){ak.animate({opacity:0},{duration:R,queue:false})})}},openPanel:function(af){af.preventDefault();this.pauseTimer();var ad=D(af.currentTarget).closest("li.gs-slide"),ae=ad.find(">.gs-wrapper>.gs-content"),ag=ae.data("title");if(!q(ag)){this._$panelTitle.text(ag).show()}else{this._$panelTitle.hide()}if(ae.length){x(ae,this._$panelContent)}this._$slider.trigger(O)},closePanel:function(ad){ad.preventDefault();this._$slider.trigger(ac).trigger(J)},displayPanelError:function(){this._$panelContent.removeClass("gs-loading");var ad=D("<div></div>").addClass("gs-panel-error").html("<p>"+B+"</p>");this._$panelContent.empty().append(ad)},selectTab:function(ad){if(isNaN(ad)||0>ad||(this._$lists.length-1)<ad){return}this._$slider.trigger(I);this.resetTimer();this._$lists.gsStopTransition(true).eq(this._tabIndex).data({index:this._currIndex}).find("li.gs-slide .gs-slide-content").css({opacity:0});this._tabIndex=ad;this._$mainPanel.find(">.gs-menu .gs-menu-item").removeClass("gs-menu-active").eq(this._tabIndex).addClass("gs-menu-active");this._$lists.not(":eq("+this._tabIndex+")").hide();this._$currList=this._$lists.eq(this._tabIndex).show();this._$currList.find("li.gs-slide.gs-loaded .gs-slide-content").gsReflow().css({opacity:1});if(!this._$currList.data("init")){this.initLoadImgs();this._$currList.css({visibility:"visible"}).data({init:true})}this._currIndex=(this._options.resetIndex?0:this._$currList.data("index"));this._$currList.find("li.gs-slide").each(D.proxy(function(af,ae){D(ae).find("img.gs-slide-content").trigger(W)},this));this.changeControls();this.updateSlideList(false);if(this._responsive){this.resize(true)}},prevSlides:function(){this._$slider.trigger(I);if(this._currIndex>0){this._currIndex--}else{if(this._options.continuous){this._currIndex=this._$currList.data("numIndex")-1}else{return}}this._$slider.trigger(X);this._options.onPrevious.call(this);this.updateSlideList(true)},nextSlides:function(){this._$slider.trigger(I);if(this._currIndex<this._$currList.data("numIndex")-1){this._currIndex++}else{if(this._options.continuous){this._currIndex=0}else{return}}this._$slider.trigger(p);this._options.onNext.call(this);this.updateSlideList(true)},rotateSlides:function(){if(this._currIndex<(this._$currList.data("numIndex")-1)){this._currIndex++}else{this._currIndex=0}this.updateSlideList(true)},updateSlideList:function(ad){this.resetTimer();this.hideHoverBox();if(ad){this._$currList.trigger(ab)}else{this.showSlides()}this._$slider.trigger(b).trigger(k).trigger(y);if(0===this._currIndex){this._$slider.trigger(d);this._options.onBegin.call(this)}if(this._currIndex==(this._$currList.data("numIndex")-1)){this._$slider.trigger(w);this._options.onEnd.call(this);if(this._options.playOnce){this.pause()}}},loadContents:function(ad){ad.each(function(af,ae){D(ae).trigger(e)})},getSlidesAt:function(ae,ad){return ae.children().eq(ad).find("li.gs-slide")},getListPosition:function(){var ae=("verticalSlide"===this._$currList.data("effect")),af={};if(this._cssTransform){var ad=(-this._currIndex*(100/this._$currList.data("numIndex")))+"%";af[D.support.transform]=(ae?"translateY("+ad+")":"translateX("+ad+")")}else{if(ae){af.top=(this._responsive?((-this._currIndex*100)+"%"):(-this._currIndex*(this._binHeight+this._slideMargin)))}else{af.left=(this._responsive?((-this._currIndex*100)+"%"):(-this._currIndex*(this._binWidth+this._slideMargin)))}}return af},showSlides:function(){var ad=this.getListPosition();this._$currList.css(ad);this.loadContents(this.getSlidesAt(this._$currList,this._currIndex));this.transComplete()},fadeSlides:function(){var ad=this._$currList,af=this.getSlidesAt(this._$currList,this._currIndex),ae=Math.round(ad.data("speed")/2),ah=ad.data("easing"),ag=this.getListPosition();ad.gsStopTransition(true).gsTransition({opacity:0},ae,ah,D.proxy(function(){ad.css(ag).gsTransition({opacity:1},{duration:ae,easing:ah,complete:D.proxy(this.transComplete,this),always:D.proxy(function(){this.loadContents(af)},this)})},this))},scrollHorizontal:function(){var ad=this.getSlidesAt(this._$currList,this._currIndex);var ae=this.getListPosition();this._$currList.gsStopTransition(true).gsTransition(ae,{duration:this._$currList.data("speed"),easing:this._$currList.data("easing"),complete:D.proxy(this.transComplete,this),always:D.proxy(function(){this.loadContents(ad)},this)})},scrollVertical:function(){var ad=this.getSlidesAt(this._$currList,this._currIndex);var ae=this.getListPosition();this._$currList.gsStopTransition(true).gsTransition(ae,{duration:this._$currList.data("speed"),easing:this._$currList.data("easing"),complete:D.proxy(this.transComplete,this),always:D.proxy(function(){this.loadContents(ad)},this)})},transComplete:function(){this._$slider.trigger(J)},processContent:function(ak){var ah=D(ak.currentTarget),aj=ah.find(">.gs-wrapper"),al=aj.find(">a:first:not([class])"),ae=ah.data("src"),ao=ah.data("content-type");if(q(ao)){ao=Q(ae)}var aq=aj;if("image"===ao){if(al.length){aq=al}}else{if(al.length){this.addLinkButton(al)}}aq.find(">img:first, >.gs-slide-content").remove();if("image"===ao){var ad=D("<img/>").addClass("gs-slide-content").gsAddTransitionClass("gs-opacity-transition");aq.prepend(ad);if(this._backgroundSize){ad.before(D("<div></div>").addClass("gs-bg-img gs-slide-content").gsAddTransitionClass("gs-opacity-transition"))}ad.one("load",D.proxy(this.processImg,this)).attr("src",ae);if(ad[0].complete||"complete"===ad[0].readyState){ad.trigger("load")}return}var am=D("<div></div>").addClass("gs-slide-content").css({overflow:"auto"}).gsAddTransitionClass("gs-opacity-transition");if("post"===ao){var af=ah.data("post-id");if(af){aq.prepend(am);D.post(ajaxurl,D.param({action:i,post_id:af}),D.proxy(function(at){am.html(at);this.showContent(ah)},this))}}else{if("inline"===ao){var ar=D(ae);if(ar.length){aq.prepend(am.html(ar.html()));this.showContent(ah)}}else{if("flash"===ao){aq.prepend(am.html(m(ae)));this.showContent(ah)}else{if("ajax"===ao){aq.prepend(am);var ai=ae.indexOf("?"),an="";if(-1<ai){an=ae.substring(ai+1);ae=ae.substring(0,ai)}var ag=ah.data("method");if(q(ag)){ag="GET"}D.ajax({url:ae,type:ag,data:an,success:D.proxy(function(at){am.html(at);this.showContent(ah)},this)})}else{var ap=D('<iframe frameborder="0" hspace="0" scrolling="auto" width="100%" height="100%"></iframe>').addClass("gs-slide-content").gsAddTransitionClass("gs-opacity-transition");aq.prepend(ap);ap.load(D.proxy(function(){this.showContent(ah)},this)).attr("src",ae)}}}}},resizeImage:function(ai,ae){if(ae.length&&(ae[0].complete||"complete"===ae[0].readyState)){ae.css({width:"auto",height:"auto"});var aj=ai.data("slideWidth"),af=ai.data("slideHeight"),ad=ai.data("image-position");switch(ad){case"fill":case"cover":this.fillContent(ae,aj,af);break;case"fit":case"contain":this.fitContent(ae,aj,af);break;case"center":this.centerContent(ae,aj,af);break;case"stretch":this.stretchContent(ae,aj,af);break}if(this._responsive&&"stretch"!==ad){var ah=parseInt(ae.css("top"),0);ah=isNaN(ah)?0:((ah/af*100)+"%");var ag=parseInt(ae.css("left"),0);ag=isNaN(ag)?0:((ag/aj*100)+"%");ae.css({top:ah,left:ag,bottom:"auto",right:"auto",width:(ae.width()/aj*100)+"%"});if("fit"===ad||"fill"===ad||"cover"===ad||"contain"===ad){ae.css("height",(ae.height()/af*100)+"%")}else{ae.css("height","auto")}}}},processImg:function(ah){var af=D(ah.currentTarget),ag=af.closest(".gs-slide"),ae;if(af.width()===0&&af.height()===0){af.one(W,D.proxy(this.processImg,this));return}if(this._backgroundSize){var ae=ag.find("div.gs-bg-img").css({backgroundImage:"url("+af.attr("src")+")"});switch(ag.data("image-position")){case"fill":case"cover":ae.css({backgroundSize:"cover","background-position":"center"});break;case"fit":case"contain":ae.css({backgroundSize:"contain","background-position":"center"});break;case"center":ae.css({"background-position":"center"});break;case"stretch":ae.css({backgroundSize:"100% 100%"});break}af.remove()}else{this.resizeImage(ag,af);ae=af}if(D.support.opacity&&!Z&&this._options.hoverDim){var ad=D("<div></div>").addClass("gs-overlay").gsAddTransitionClass("gs-opacity-transition");ae.after(ad)}this.setHoverEffect(ag);this.showContent(ag)},centerContent:function(ad,ae,af){ad.css({top:(af-ad.height())/2,left:(ae-ad.width())/2})},fillContent:function(ae,ag,ai){var af=ae.width(),ad=ae.height(),ah=Math.max(ai/ad,ag/af);ae.css({width:(af*ah),height:(ad*ah)});this.centerContent(ae,ag,ai)},fitContent:function(ae,ai,aj){var ag=ae.width(),ad=ae.height(),ah=ai/aj,af=ag/ad;if(ah>af){ag*=aj/ad;ad=aj}else{ad*=ai/ag;ag=ai}ae.css({width:ag,height:ad});this.centerContent(ae,ai,aj)},stretchContent:function(ad,ae,af){ad.css({top:0,left:0,width:"100%",height:"100%"})},showContent:function(ad){ad.addClass("gs-loaded").find(".gs-slide-content").css({opacity:1})},setPanelSize:function(ad){ad.css({borderLeftWidth:this._slideMargin,borderRightWidth:this._slideMargin,borderColor:this._bgColor});if(!D.support.boxSizing&&!this._responsive){ad.width(this._binWidth-this._slideMargin)}},startTimer:function(){if(null===this._timerId&&this._rotate&&1<this._$currList.data("numIndex")){var ad=Math.round(this._$timer.data("pct")*this._$currList.data("delay"));this._$timer.animate({width:"0%"},{duration:ad,easing:"linear",queue:false});this._timerId=setTimeout(D.proxy(this.rotateSlides,this),ad)}},pauseTimer:function(){clearTimeout(this._timerId);this._timerId=null;var ad=this._$timer.width()/this._$timer.parent().width();this._$timer.stop(true).data("pct",ad)},resetTimer:function(){clearTimeout(this._timerId);this._timerId=null;this._$timer.stop(true).css({width:"100%"}).data("pct",1)},suspendTimer:function(){this.pauseTimer();this._$slider.unbind(J);clearTimeout(this._resumeId);this._resumeId=setTimeout(D.proxy(function(){this._$slider.unbind(J).bind(J,D.proxy(this.startTimer,this)).trigger(J)},this),500)},toggleCaption:function(af){var ae=D(af.currentTarget),ad=ae.closest(".gs-wrapper");if(ae.hasClass("gs-caption-off")){ad.trigger(Y);ae.removeClass("gs-caption-off")}else{ad.trigger(n);ae.addClass("gs-caption-off")}},slideInCaption:function(ae){var af=D(ae.currentTarget).find(">.gs-caption"),ad={};ad[ae.data.position]=0;af.animate(ad,{duration:R,queue:false})},slideOutCaption:function(ae){var af=D(ae.currentTarget).find(">.gs-caption"),ad={};ad[ae.data.position]="-100%";af.animate(ad,{duration:R,queue:false})},fadeInCaption:function(ad){D(ad.currentTarget).find(">.gs-caption").animate({opacity:1},{duration:R,queue:false})},fadeOutCaption:function(ad){D(ad.currentTarget).find(">.gs-caption").animate({opacity:0},{duration:R,queue:false})},shuffleItems:function(ad){var ae=ad.children().toArray();r(ae);ad.append(ae)},mouseScroll:function(ad){ad.preventDefault();if(!this._$currList.is(":animated")&&0==parseFloat(this._$currList.css("transition-duration"))){var ae=(typeof ad.originalEvent.wheelDelta==="undefined")?-ad.originalEvent.detail:ad.originalEvent.wheelDelta;if(0<ae){this.prevSlides()}else{this.nextSlides()}}},keyControl:function(ad){switch(ad.keyCode){case 37:this.prevSlides();break;case 39:this.nextSlides();break;case 80:this.togglePlay();break;case 27:this._$slider.trigger(ac);break}},touchStart:function(ad){this._swipeMove=0;if(1===ad.originalEvent.touches.length){this._$slider.trigger(I);this._swipeStart=new Date();this._startX=ad.originalEvent.touches[0].pageX;this._startY=ad.originalEvent.touches[0].pageY;if("verticalSlide"===this._$currList.data("effect")){this._$slidePanel.bind("touchmove",D.proxy(this.verticalTouchMove,this))}else{if("horizontalSlide"===this._$currList.data("effect")){this._$slidePanel.bind("touchmove",D.proxy(this.horizontalTouchMove,this))}else{this._$slidePanel.bind("touchmove",D.proxy(this.touchMove,this))}}this._$slidePanel.one("touchend",D.proxy(this.touchEnd,this))}},horizontalTouchMove:function(ah){var ad=this._startX-ah.originalEvent.touches[0].pageX;var ag=this._startY-ah.originalEvent.touches[0].pageY;var ae=this._$slidePanel.width()-this._slideMargin;var af;this._swipeMove=(this._currIndex*ae)+ad;if(this._cssTransform){af={transform:"translateX("+(-this._swipeMove)+"px)"}}else{af={left:-this._swipeMove}}this._$currList.css(af);if(Math.abs(ad)>Math.abs(ag)){ah.preventDefault()}},verticalTouchMove:function(ah){var ad=this._startX-ah.originalEvent.touches[0].pageX;var ag=this._startY-ah.originalEvent.touches[0].pageY;var ae=this._$slidePanel.height()-this._slideMargin;var af;this._swipeMove=(this._currIndex*ae)+ag;if(this._cssTransform){af={transform:"translateY("+(-this._swipeMove)+"px)"}}else{af={top:-this._swipeMove}}this._$currList.css(af);if(Math.abs(ag)>Math.abs(ad)){ah.preventDefault()}},touchMove:function(ag){var ad=this._startX-ag.originalEvent.touches[0].pageX;var af=this._startY-ag.originalEvent.touches[0].pageY;var ae=this._$slidePanel.width()-this._slideMargin;this._swipeMove=(this._currIndex*ae)+ad;if(Math.abs(ad)>Math.abs(af)){ag.preventDefault()}},touchEnd:function(af){this._$slidePanel.unbind("touchmove");if(Math.abs(this._swipeMove)>j){var ad=("verticalSlide"===this._$currList.data("effect")?this._$slidePanel.height():this._$slidePanel.width())-this._slideMargin;var ae=(this._currIndex*ad);if(this._swipeMove>ae){if(this._currIndex<this._$currList.data("numIndex")-1){this._currIndex++;this._$slider.trigger(p);this._options.onNext.call(this)}}else{if(this._swipeMove<ae){if(this._currIndex>0){this._currIndex--;this._$slider.trigger(X);this._options.onPrevious.call(this)}}}}this.updateSlideList(true)},setOptColor:function(ae,ad,af){if(typeof ad!=="undefined"){if("backgroundColor"===af||"background-color"===af){if(""===D.trim(ad)){ad="transparent"}}ae.css(af,ad)}}};function C(ae,ad){return(ad===ae.substring(0,ad.length))}function x(ae,aq,an){var ag="gs-loading";aq.removeClass(ag);var al=ae.data("contentType"),af=ae.data("src"),ah=ae.data("postId");if(!D.isFunction(an)){an=D.noop}aq.css({overflow:"auto"}).empty();if("static"===al||(q(af)&&!ah)){aq.html(ae.html());return}if("image"===al){var ad=D("<img/>").gsAddTransitionClass("gs-opacity-transition").css({opacity:0});aq.addClass(ag).append(ad);ad.one("load",function(ar){if(D.contains(aq.get(0),ar.currentTarget)){aq.removeClass(ag);D(ar.currentTarget).css({opacity:1});an()}}).attr("src",af);if(ad[0].complete||"complete"===ad[0].readyState){ad.trigger("load")}}else{if("post"===al){if(ah){var ap=D("<div></div>").gsAddTransitionClass("gs-opacity-transition").css({opacity:0});aq.append(ap);D.post(ajaxurl,D.param({action:i,post_id:ah}),function(ar){if(D.contains(aq.get(0),ap[0])){aq.removeClass(ag);ap.html(ar).css({opacity:1});an()}})}}else{if("inline"===al){var ai=D(af);if(ai.length){aq.html(ai.html())}}else{if("flash"===al){aq.html(m(af))}else{if("ajax"===al){aq.addClass(ag);var ak=af.indexOf("?"),am="",aj=H(ae.data("method"),"GET");if(-1<ak){am=af.substring(ak+1);af=af.substring(0,ak)}var ap=D("<div></div>").gsAddTransitionClass("gs-opacity-transition").css({opacity:0});aq.append(ap);D.ajax({url:af,type:aj,data:am,success:function(ar){if(D.contains(aq.get(0),ap[0])){aq.removeClass(ag);ap.html(ar).css({opacity:1});an()}}})}else{aq.addClass(ag);var ao=D('<iframe frameborder="0" hspace="0" scrolling="auto" width="100%" height="100%"></iframe>').gsAddTransitionClass("gs-opacity-transition").css({opacity:0});aq.css({overflow:"hidden"}).append(ao);ao.load(function(ar){if(D.contains(aq.get(0),ar.currentTarget)){aq.removeClass(ag);D(ar.currentTarget).css({opacity:1});an()}}).attr("src",af)}}}}}}function m(ad){return'<object type="application/x-shockwave-flash" data="'+ad+'" width="100%" height="100%" style="display:block">					<param name="movie" value="'+ad+'"/>					<param name="allowFullScreen" value="true"/>					<param name="quality" value="high"/>					<param name="wmode" value="transparent"/>					<a href="http://www.adobe.com/go/getflash"><img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player"/></a>				</object>'}function r(ad){var ag=ad.length;while(--ag>0){var ae=Math.floor(Math.random()*(ag+1)),af=ad[ag];ad[ag]=ad[ae];ad[ae]=af}}function G(ad){ad.preventDefault()}function s(ad){var af=navigator.userAgent;var ae=af.indexOf("Android");if(ae>-1){if(typeof ad==="undefined"||parseFloat(af.slice(ae+8))<=ad){return true}}return false}function c(ad){if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){if(typeof ad==="undefined"){return true}var ae=new Number(RegExp.$1);if(ae<=ad){return true}}return false}function q(ad){return(typeof ad==="undefined"||""===D.trim(ad))}function M(ad,ae){ad=parseInt(ad,0);return(isNaN(ad)||ad<=0)?ae:ad}function L(ad,ae){ad=parseInt(ad,0);return(isNaN(ad)||ad<0)?ae:ad}function H(ad,ae){return(typeof ad!=="undefined")?ad:ae}function l(ak){var ai=["Webkit","Moz","O","ms"],ah=document.body||document.documentElement,af=ah.style,ae=false;if(typeof af[ak]!=="undefined"){ae=ak}else{var ag=ak.charAt(0).toUpperCase()+ak.slice(1);for(var ad=0;ad<ai.length;ad++){var aj=ai[ad]+ag;if(typeof af[aj]!=="undefined"){ae=aj;break}}}D.support[ak]=ae;return ae}function Q(ad){if(ad.match(/[^\s]+\.(jpg|gif|png|bmp)/i)){return"image"}if(ad.match(/[^\s]+\.(swf)/i)){return"flash"}if(0===ad.indexOf("#")){return"inline"}return"iframe"}D.fn.gsTransition=function(){var af=arguments[0],ah,ai,ae,ad;if(typeof arguments[1]==="object"){var ag=arguments[1];ah=ag.duration;ai=ag.easing;ae=ag.complete;ad=ag.always}else{ah=arguments[1];ai=arguments[2];ae=arguments[3]}ah=H(ah,400);ai=H(ai,"swing");return this.each(function(){D(this).queue(function(){if(D.isFunction(ae)){D(this).one(U,ae);D(this).gsForceTransitionEnd(ah+50)}if(D.isFunction(ad)){D(this).one(U+".always",ad)}D(this).one(U,function(){D(this).css(h+"-duration","0s").dequeue()});af[h]="all "+ah+"ms "+N[ai];D(this).gsReflow().css(af)})})};D.fn.gsStopTransition=function(ad,ae){return this.each(function(){if(ad){D(this).clearQueue()}clearTimeout(D(this).data("endId"));if(ae){D(this).trigger(U)}else{D(this).trigger(U+".always");D(this).unbind(U)}D(this).css(h,"none").css(h+"-duration","0s").dequeue()})};D.fn.gsReflow=function(){return this.each(function(){var ad=this.offsetWidth})};D.fn.gsForceTransitionEnd=function(ad){return this.each(function(){var ae=false;D(this).one(U,function(){ae=true});D(this).data("endId",setTimeout(D.proxy(function(){if(!ae){D(this).trigger(U)}},this),ad))})};D.fn.gsAddTransitionClass=function(ad){return this.each(function(af,ae){if(D.support.transition&&!g){D(ae).addClass(ad)}})};var F={previous:function(){D(this).data(A).prevSlides()},next:function(){D(this).data(A).nextSlides()},play:function(){D(this).data(A).play()},pause:function(){D(this).data(A).pause()},selectTab:function(ad){if(typeof ad!=="undefined"){D(this).data(A).selectTab(parseInt(ad,0))}},destroy:function(){var ad=D(this).data(A);ad.pause();if(!q(ad._namespace)){D(window).add(D(document)).unbind(ad._namespace)}ad._$slider.add(D("*",ad._$slider)).unbind().removeData();D(this).removeData(A)}};var E={responsive:false,numCols:4,numRows:2,minSlideWidth:200,minRows:0,slideWidth:300,slideHeight:200,slideBorder:0,slideMargin:0,padding:10,effect:"horizontalSlide",speed:500,easing:"",autoPlay:false,delay:5000,playButton:true,timer:true,pauseOnHover:false,pauseOnInteraction:false,control:"index",selectOnHover:false,navButtons:"normal",continuous:true,pageInfo:true,keyboard:false,mousewheel:false,swipe:true,captionAlign:"bottom",captionPosition:"inside",captionEffect:"fade",captionButton:false,tabIndex:0,panelBarOnHover:false,panelEffect:"coverDown",hoverEffect:"none",imagePosition:"fill",shuffle:false,resetIndex:true,hoverDim:true,cssTransition:true,onInit:function(){},onPlay:function(){},onPause:function(){},onPrevious:function(){},onNext:function(){},onBegin:function(){},onEnd:function(){},hoverBox:{width:250,height:"auto",delay:1000,effect:"fade",toggle:false}};D.fn.gridSlider=function(){var ad=arguments;var ae=ad[0];return this.each(function(ah,af){if(F[ae]){if(typeof D(af).data(A)!=="undefined"){F[ae].apply(af,Array.prototype.slice.call(ad,1))}}else{if(typeof ae==="object"||!ae){var ag=new t(af,D.extend(true,{},E,ae));D(af).data(A,ag);ag._$slider.trigger(f);ag._options.onInit.call(ag)}}})}})(jQuery);